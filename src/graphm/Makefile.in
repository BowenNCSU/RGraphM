CXX ?= @CC@
GRAPHM_CFLAGS = @CFLAGS@ @GSL_CFLAGS@/gsl
#-Wno-unused-but-set-variable  -Wno-long-long -Wno-sign-compare -Wno-deprecated -pedantic -pthread  -O2 -g
#LDFLAGS= -lgsl -lgslcblas


SHVER = 1
all: ./bin/graphm 
./bin/graphm: ./algorithm_ca.o ./algorithm_path.o ./algorithm_ext.o ./algorithm_fsol.o  ./algorithm_iden.o ./algorithm_lp.o ./algorithm.o ./algorithm_path.o ./algorithm_qcv.o ./algorithm_rand.o ./algorithm_rank.o ./algorithm_umeyama.o ./algorithm_unif.o ./experiment.o ./graph.o ./hungarian.o  ./rpc.o main.cpp
	$(CXX) $(GRAPHM_CFLAGS)  main.cpp ./*o $(LDFLAGS) -o ./bin/graphm @GSL_LIBS@
#interface classes
./experiment.o:   experiment.cpp experiment.h
	
./rpc.o:   rpc.cpp rpc.h
./graph.o:   graph.cpp graph.h
		
./hungarian.o:   hungarian.cpp hungarian.h
./algorithm.o:   algorithm.cpp algorithm.h
#graph matching algorithms
./algorithm_ca.o: algorithm_ca.cpp algorithm_ca.h
./algorithm_path.o: algorithm_path.cpp algorithm_path.h
./algorithm_ext.o:   algorithm_ext.cpp algorithm_ext.h
./algorithm_fsol.o:   algorithm_fsol.cpp algorithm_fsol.h
./algorithm_iden.o:   algorithm_iden.cpp algorithm_iden.h
./algorithm_lp.o:   algorithm_lp.cpp algorithm_lp.h
./algorithm_qcv.o:   algorithm_qcv.cpp algorithm_qcv.h
./algorithm_rand.o:   algorithm_rand.cpp algorithm_rand.h
./algorithm_rank.o:   algorithm_rank.cpp algorithm_rank.h
./algorithm_umeyama.o:   algorithm_umeyama.cpp algorithm_umeyama.h
./algorithm_unif.o:   algorithm_unif.cpp algorithm_unif.h

clean:
	rm -f ./*o
	rm -f ./bin/graphm
